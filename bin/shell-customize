#!/bin/sh

# create GitCorp, Sites, Downloads, .vim/view, .vim/autoload, .vim/bundle, directories, if non existent
homeDirs=('GitCorp' 'Sites' 'Downloads' '.vim/view' '.vim/autoload' '.vim/bundle');
for homeDir in "${homeDirs[@]}"
do
  if [ ! -d ~/$homeDir ]; then
    echo "creating ~/$homeDir"
    mkdir -p ~/$homeDir
    if [ $? == 0 ]; then
      echo "command executed: mkdir -p ~/$homeDir;"
      echo "created -p ~/$homeDir"
      echo
    fi
  fi
done

# create ~/.vim/autoload/pathogen.vim, if non existent
if [ ! -f ~/.vim/autoload/pathogen.vim ]; then
  echo "creating ~/.vim/autoload/pathogen.vim"
  curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim;
  echo "command executed: curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim;"
  echo "created ~/.vim/autoload/pathogen.vim"
fi

# backup existing files
dots=('dot-files' 'dot-commons' 'bashrc' 'bash_profile' 'zshrc' 'zprofile' 'zhistory' 'gitconfig' 'gitignore_global' 'vimrc' 'dot-common');
for dot in "${dots[@]}"
do
  if [ -f ~/$dot -o -d ~/$dot -o -L ~/$dot ]; then
    dotBackup=$dot-backup;
    echo "backing up  ~/$dot as ~/$dotBackup"
    mv ~/$dot ~/$dotBackup
    echo "command executed: mv ~/$dot ~/$dotBackup"
    echo "backed up  ~/$dot as ~/$dotBackup"
    echo
  fi
done

# create symlinks - directories
dotDirs=('dot-files' 'dot-commons');
for dotDir in "${dotDirs[@]}"
do
  if [ -d $CURRENT_DIR/$dotDir ]; then
    echo "creating SymLink ~/.$dotDir to $CURRENT_DIR/$dotDir ~/.$dotDir"
    ln -s  "$CURRENT_DIR/$dotDir" ~/.$dotDir
    if [ $? == 0 ]; then
      echo "command executed: ln -s  $CURRENT_DIR/$dotDir ~/.$dotDir"
      echo "created SymLink ~/.$dotDir to $CURRENT_DIR/$dotDir ~/.$dotDir"
      echo
    fi
  fi
done

# create symlinks - files
dotFiles=('bashrc' 'bash_profile' 'zshrc' 'zprofile' 'zhistory' 'gitconfig' 'gitignore_global' 'vimrc' 'dot-common');
for dotFile in "${dotFiles[@]}"
do
  if [ -f ~/.dot-files/$dotFile ]; then
    echo "creating SymLink ~/.$dotFile to ~/.dot-files/$dotFile"
    ln -s  ~/.dot-files/$dotFile ~/.$dotFile
    echo "command executed: ln -s  ~/.dot-files/$dotFile ~/.$dotFile"
    echo "created SymLink ~/.$dotFile to ~/.dot-files/$dotFile"
    echo
  fi
done
