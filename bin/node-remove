#!/bin/sh

# create .czrc to specify adapter for commitizen
if [ -f ~/.czrc ]; then
  rm -rf ~/.czrc
  if [ $? == 0 ]; then
    printf "\nremoved ~/.czrc\n"
  fi
fi

# uninstall awesome global node_modules
printf "\nuninstalling node-modules globally\n"
printf "it may take few minutes ...\n"
nodeModules="commitizen cz-conventional-changelog semantic-release-cli greenkeeper http-server watch-and-rsync yo doctoc"
npm rm -g $nodeModules &>/dev/null
if [ $? == 0 ]; then
  printf "uninstalled $nodeModules globally\n"
fi

# uninstall node and n
printf "\nsudo password might be required for removing n and node\n"
bins=('/usr/local/bin/n' '/usr/local/bin/node');
for bin in "${bins[@]}"
do
  if [ -f $bin ]; then
    sudo rm -rf $bin;
    if [ $? == 0 ]; then
      printf "removed $bin\n"
    fi
  fi
done

# delete /usr/local/n
printf "\nsudo password might be required for removing $nDir\n"
nDir='/usr/local/n'
if [ -d $nDir ]; then
  sudo rm -rf $nDir;
  if [ $? == 0 ]; then
    printf "removed $nDir\n"
  fi
fi
