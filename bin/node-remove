#!/bin/sh

# create .czrc to specify adapter for commitizen
if [ -f ~/.czrc ]; then
  echo "removing  ~/.czrc"
  rm -rf ~/.czrc
  if [ $? == 0 ]; then
    echo "command executed: rm -rf ~/.czrc"
    echo "removed ~/.czrc"
    echo
  fi
fi

# uninstall awesome global node_modules
nodeModules=('commitizen' 'cz-conventional-changelog' 'semantic-release-cli' 'greenkeeper' 'http-server'  'watch-and-rsync' 'yo' 'doctoc');
for nodeModule in "${nodeModules[@]}"
do
  echo "uninstalling $nodeModule globally"
  npm rm -g $nodeModule
  if [ $? == 0 ]; then
    echo "command executed: npm rm -g $nodeModule"
    echo "uninstalled $nodeModule globally"
    echo
  fi
done

# uninstall node and n
bins=('/usr/local/bin/n' '/usr/local/bin/node');
for bin in "${bins[@]}"
do
  if [ -f $bin ]; then
    echo "removing $bin"
    sudo rm -rf $bin;
    if [ $? == 0 ]; then
      echo "command executed: sudo rm -rf $bin;"
      echo "removed $bin"
      echo
    fi
  fi
done

# delete /usr/local/n
nDir='/usr/local/n'
if [ -d $nDir ]; then
  echo "removing $nDir"
  sudo rm -rf $nDir;
  if [ $? == 0 ]; then
    echo "command executed: rm -rf $nDir;"
    echo "removed $nDir"
  fi
fi
